definitions:
  Agent:
    properties:
      metadata:
        allOf:
        - $ref: '#/definitions/AgentMetadata'
        description: Metadata contains identifying information about the agent.
      spec:
        allOf:
        - $ref: '#/definitions/AgentSpec'
        description: Spec contains the desired configuration for the agent.
      status:
        allOf:
        - $ref: '#/definitions/AgentStatus'
        description: Status contains the observed state of the agent.
    type: object
  AgentAvailableComponents:
    properties:
      components:
        additionalProperties:
          $ref: '#/definitions/ComponentDetails'
        type: object
    type: object
  AgentComponentHealth:
    properties:
      componentsMap:
        additionalProperties:
          type: string
        type: object
      healthy:
        type: boolean
      lastError:
        type: string
      startTime:
        type: string
      status:
        type: string
      statusTime:
        type: string
    type: object
  AgentConditionStatus:
    enum:
    - "True"
    - "False"
    - Unknown
    type: string
    x-enum-varnames:
    - ConditionStatusTrue
    - ConditionStatusFalse
    - ConditionStatusUnknown
  AgentConfigFile:
    properties:
      body:
        type: string
      contentType:
        type: string
    type: object
  AgentConfigMap:
    properties:
      configMap:
        additionalProperties:
          $ref: '#/definitions/AgentConfigFile'
        type: object
    type: object
  AgentCustomCapabilities:
    properties:
      capabilities:
        items:
          type: string
        type: array
    type: object
  AgentDescription:
    properties:
      identifyingAttributes:
        additionalProperties:
          type: string
        description: IdentifyingAttributes are attributes that uniquely identify the
          agent.
        type: object
      nonIdentifyingAttributes:
        additionalProperties:
          type: string
        description: NonIdentifyingAttributes are attributes that do not uniquely
          identify the agent.
        type: object
    type: object
  AgentEffectiveConfig:
    properties:
      configMap:
        $ref: '#/definitions/AgentConfigMap'
    type: object
  AgentGroup:
    properties:
      metadata:
        $ref: '#/definitions/AgentGroupMetadata'
      spec:
        $ref: '#/definitions/AgentGroupSpec'
      status:
        $ref: '#/definitions/AgentGroupStatus'
    type: object
  AgentGroupMetadata:
    properties:
      attributes:
        $ref: '#/definitions/api_v1.Attributes'
      name:
        type: string
      priority:
        type: integer
      selector:
        $ref: '#/definitions/api_v1.AgentSelector'
    type: object
  AgentGroupSpec:
    properties:
      agentConfig:
        $ref: '#/definitions/api_v1.AgentConfig'
    type: object
  AgentGroupStatus:
    properties:
      conditions:
        description: Conditions is a list of conditions that apply to the agent group.
        items:
          $ref: '#/definitions/Condition'
        type: array
      numAgents:
        description: NumAgents is the total number of agents in the agent group.
        type: integer
      numConnectedAgents:
        description: NumConnectedAgents is the number of connected agents in the agent
          group.
        type: integer
      numHealthyAgents:
        description: NumHealthyAgents is the number of healthy agents in the agent
          group.
        type: integer
      numNotConnectedAgents:
        description: NumNotConnectedAgents is the number of not connected agents in
          the agent group.
        type: integer
      numUnhealthyAgents:
        description: NumUnhealthyAgents is the number of unhealthy agents in the agent
          group.
        type: integer
    type: object
  AgentMetadata:
    properties:
      capabilities:
        description: Capabilities is a bitmask representing the capabilities of the
          agent.
        type: integer
      customCapabilities:
        allOf:
        - $ref: '#/definitions/AgentCustomCapabilities'
        description: CustomCapabilities is a map of custom capabilities for the agent.
      description:
        allOf:
        - $ref: '#/definitions/AgentDescription'
        description: Description is a human-readable description of the agent.
      instanceUid:
        description: InstanceUID is a unique identifier for the agent instance.
        type: string
    type: object
  AgentPackage:
    properties:
      metadata:
        $ref: '#/definitions/AgentPackageMetadata'
      spec:
        $ref: '#/definitions/AgentPackageSpec'
      status:
        $ref: '#/definitions/AgentPackageStatus'
    type: object
  AgentPackageMetadata:
    properties:
      attributes:
        $ref: '#/definitions/github_com_minuk-dev_opampcommander_api_v1.Attributes'
      name:
        type: string
    type: object
  AgentPackageSpec:
    properties:
      contentHash:
        items:
          type: integer
        type: array
      downloadUrl:
        type: string
      hash:
        items:
          type: integer
        type: array
      headers:
        additionalProperties:
          type: string
        type: object
      packageType:
        type: string
      signature:
        items:
          type: integer
        type: array
      version:
        type: string
    type: object
  AgentPackageStatus:
    properties:
      conditions:
        items:
          $ref: '#/definitions/Condition'
        type: array
    type: object
  AgentPackageStatusPackageEntry:
    properties:
      name:
        description: Name is the name of the package.
        type: string
    type: object
  AgentPackageStatuses:
    properties:
      errorMessage:
        type: string
      packages:
        additionalProperties:
          $ref: '#/definitions/AgentPackageStatusPackageEntry'
        type: object
      serverProvidedAllPackagesHash:
        type: string
    type: object
  AgentRemoteConfig:
    properties:
      configHash:
        type: string
      configMap:
        additionalProperties:
          $ref: '#/definitions/AgentConfigFile'
        type: object
    type: object
  AgentSpec:
    properties:
      connectionSettings:
        allOf:
        - $ref: '#/definitions/ConnectionSettings'
        description: ConnectionSettings contains connection settings for the agent.
      newInstanceUid:
        description: NewInstanceUID is a new instance UID to inform the agent of its
          new identity.
        type: string
      packagesAvailable:
        allOf:
        - $ref: '#/definitions/AgentSpecPackages'
        description: PackagesAvailable is the packages available for the agent to
          download.
      remoteConfig:
        allOf:
        - $ref: '#/definitions/AgentRemoteConfig'
        description: RemoteConfig is the remote configuration of the agent.
      restartRequiredAt:
        description: |-
          RestartRequiredAt is the time when a restart was requested.
          If this time is after the agent's start time, the agent should be restarted.
        type: string
    type: object
  AgentSpecPackages:
    properties:
      packages:
        description: Packages is a list of package names available for the agent.
        items:
          type: string
        type: array
    type: object
  AgentStatus:
    properties:
      availableComponents:
        allOf:
        - $ref: '#/definitions/AgentAvailableComponents'
        description: AvailableComponents lists components available on the agent.
      componentHealth:
        allOf:
        - $ref: '#/definitions/AgentComponentHealth'
        description: ComponentHealth is the health status of the agent's components.
      conditions:
        description: Conditions is a list of conditions that apply to the agent.
        items:
          $ref: '#/definitions/Condition'
        type: array
      connected:
        description: Connected indicates if the agent is currently connected.
        type: boolean
      connectionType:
        description: ConnectionType indicates the type of connection the agent is
          using.
        type: string
      effectiveConfig:
        allOf:
        - $ref: '#/definitions/AgentEffectiveConfig'
        description: EffectiveConfig is the effective configuration of the agent.
      lastReportedAt:
        description: LastReportedAt is the timestamp when the agent last reported
          its status.
        type: string
      packageStatuses:
        allOf:
        - $ref: '#/definitions/AgentPackageStatuses'
        description: PackageStatuses is a map of package statuses for the agent.
      sequenceNum:
        description: SequenceNum is the sequence number from the last AgentToServer
          message.
        type: integer
    type: object
  AuthnTokenResponse:
    properties:
      token:
        description: Token is the authentication token.
        type: string
    type: object
  ComponentDetails:
    properties:
      type:
        type: string
      version:
        type: string
    type: object
  Condition:
    properties:
      lastTransitionTime:
        type: string
      message:
        type: string
      reason:
        type: string
      status:
        $ref: '#/definitions/AgentConditionStatus'
      type:
        $ref: '#/definitions/ConditionType'
    type: object
  ConditionType:
    enum:
    - Created
    - Updated
    - Deleted
    - Connected
    - Healthy
    - Configured
    - Registered
    type: string
    x-enum-varnames:
    - ConditionTypeCreated
    - ConditionTypeUpdated
    - ConditionTypeDeleted
    - ConditionTypeConnected
    - ConditionTypeHealthy
    - ConditionTypeConfigured
    - ConditionTypeRegistered
  Connection:
    properties:
      alive:
        description: Alive indicates whether the connection is currently alive.
        type: boolean
      id:
        description: ID is the unique identifier of the connection.
        type: string
      instanceUid:
        description: InstanceUID is the unique identifier of the agent instance.
        type: string
      lastCommunicatedAt:
        description: LastCommunicatedAt is the timestamp of the last communication
          with the agent.
        type: string
      type:
        description: Type is the type of connection (e.g., "http", "websocket").
        type: string
    type: object
  ConnectionSettings:
    properties:
      opamp:
        allOf:
        - $ref: '#/definitions/OpAMPConnectionSettings'
        description: OpAMP contains OpAMP server connection settings.
      otherConnections:
        additionalProperties:
          $ref: '#/definitions/OtherConnectionSettings'
        description: OtherConnections contains other connection settings mapped by
          name.
        type: object
      ownLogs:
        allOf:
        - $ref: '#/definitions/TelemetryConnectionSettings'
        description: OwnLogs contains own logs connection settings.
      ownMetrics:
        allOf:
        - $ref: '#/definitions/TelemetryConnectionSettings'
        description: OwnMetrics contains own metrics connection settings.
      ownTraces:
        allOf:
        - $ref: '#/definitions/TelemetryConnectionSettings'
        description: OwnTraces contains own traces connection settings.
    type: object
  DeviceAuthnTokenResponse:
    properties:
      deviceCode:
        description: DeviceCode
        type: string
      expiry:
        description: Expiry is when the device code and user code expire
        type: string
      interval:
        description: Interval is the duration in seconds that Poll should wait between
          requests
        type: integer
      userCode:
        description: UserCode is the code the user should enter at the verification
          uri
        type: string
      verificationUri:
        description: VerificationURI is where user should enter the user code
        type: string
      verificationUriComplete:
        description: |-
          VerificationURIComplete (if populated) includes the user code in the verification URI.
          This is typically shown to the user in non-textual form, such as a QR code.
        type: string
    type: object
  ErrorDetail:
    properties:
      location:
        type: string
      message:
        type: string
      value: {}
    type: object
  ErrorModel:
    properties:
      detail:
        description: |-
          Detail is a human-readable explanation specific to this occurrence of the problem.
          example: "Your request parameters didn't validate."
        type: string
      errors:
        description: Errors provides additional error details.
        items:
          $ref: '#/definitions/ErrorDetail'
        type: array
      instance:
        description: Instance is a URI reference that identifies the specific occurrence
          of the problem.
        type: string
      status:
        description: |-
          Status is the HTTP status code generated by the origin server for this occurrence of the problem.
          example: 400
        type: integer
      title:
        description: |-
          Title is a short, human-readable summary of the problem type.
          example: "Bad Request"
        type: string
      type:
        description: |-
          Type is a URI reference that identifies the problem type.
          example: "https://example.com/probs/out-of-credit"
        type: string
    type: object
  InfoResponse:
    properties:
      authenticated:
        type: boolean
      email:
        type: string
    type: object
  ListMeta:
    properties:
      continue:
        type: string
      remainingItemCount:
        type: integer
    type: object
  ListResponse-Agent:
    properties:
      apiVersion:
        type: string
      items:
        items:
          $ref: '#/definitions/Agent'
        type: array
      kind:
        type: string
      metadata:
        $ref: '#/definitions/ListMeta'
    type: object
  ListResponse-AgentGroup:
    properties:
      apiVersion:
        type: string
      items:
        items:
          $ref: '#/definitions/AgentGroup'
        type: array
      kind:
        type: string
      metadata:
        $ref: '#/definitions/ListMeta'
    type: object
  ListResponse-AgentPackage:
    properties:
      apiVersion:
        type: string
      items:
        items:
          $ref: '#/definitions/AgentPackage'
        type: array
      kind:
        type: string
      metadata:
        $ref: '#/definitions/ListMeta'
    type: object
  ListResponse-Connection:
    properties:
      apiVersion:
        type: string
      items:
        items:
          $ref: '#/definitions/Connection'
        type: array
      kind:
        type: string
      metadata:
        $ref: '#/definitions/ListMeta'
    type: object
  ListResponse-Server:
    properties:
      apiVersion:
        type: string
      items:
        items:
          $ref: '#/definitions/Server'
        type: array
      kind:
        type: string
      metadata:
        $ref: '#/definitions/ListMeta'
    type: object
  OAuth2AuthCodeURLResponse:
    properties:
      url:
        description: URL is the OAuth2 authorization URL.
        type: string
    type: object
  OpAMPConnectionSettings:
    properties:
      certificate:
        allOf:
        - $ref: '#/definitions/TLSCertificate'
        description: Certificate contains TLS certificate information.
      destinationEndpoint:
        description: DestinationEndpoint is the URL to connect to the OpAMP server.
        type: string
      headers:
        additionalProperties:
          items:
            type: string
          type: array
        description: Headers are HTTP headers to include in requests.
        type: object
    type: object
  OtherConnectionSettings:
    properties:
      certificate:
        allOf:
        - $ref: '#/definitions/TLSCertificate'
        description: Certificate contains TLS certificate information.
      destinationEndpoint:
        description: DestinationEndpoint is the URL to connect to.
        type: string
      headers:
        additionalProperties:
          items:
            type: string
          type: array
        description: Headers are HTTP headers to include in requests.
        type: object
    type: object
  PingResponse:
    properties:
      message:
        description: Message is the response message.
        type: string
    type: object
  Server:
    properties:
      conditions:
        items:
          $ref: '#/definitions/ServerCondition'
        type: array
      id:
        type: string
      lastHeartbeatAt:
        type: string
    type: object
  ServerCondition:
    properties:
      lastTransitionTime:
        type: string
      message:
        type: string
      reason:
        type: string
      status:
        $ref: '#/definitions/ServerConditionStatus'
      type:
        $ref: '#/definitions/ServerConditionType'
    type: object
  ServerConditionStatus:
    enum:
    - "True"
    - "False"
    - Unknown
    type: string
    x-enum-varnames:
    - ServerConditionStatusTrue
    - ServerConditionStatusFalse
    - ServerConditionStatusUnknown
  ServerConditionType:
    enum:
    - Registered
    - Alive
    type: string
    x-enum-varnames:
    - ServerConditionTypeRegistered
    - ServerConditionTypeAlive
  TLSCertificate:
    properties:
      caCert:
        description: CaCert is the PEM-encoded CA certificate.
        type: string
      cert:
        description: Cert is the PEM-encoded certificate.
        type: string
      privateKey:
        description: PrivateKey is the PEM-encoded private key.
        type: string
    type: object
  TelemetryConnectionSettings:
    properties:
      certificate:
        allOf:
        - $ref: '#/definitions/TLSCertificate'
        description: Certificate contains TLS certificate information.
      destinationEndpoint:
        description: DestinationEndpoint is the URL to send telemetry data to.
        type: string
      headers:
        additionalProperties:
          items:
            type: string
          type: array
        description: Headers are HTTP headers to include in requests.
        type: object
    type: object
  VersionInfo:
    properties:
      buildDate:
        type: string
      compiler:
        type: string
      gitCommit:
        type: string
      gitTreeState:
        type: string
      gitVersion:
        type: string
      goVersion:
        type: string
      major:
        type: string
      minor:
        type: string
      platform:
        type: string
    type: object
  api_v1.AgentConfig:
    properties:
      connectionSettings:
        $ref: '#/definitions/ConnectionSettings'
      contentType:
        type: string
      value:
        type: string
    type: object
  api_v1.AgentSelector:
    properties:
      identifyingAttributes:
        additionalProperties:
          type: string
        type: object
      nonIdentifyingAttributes:
        additionalProperties:
          type: string
        type: object
    type: object
  api_v1.Attributes:
    additionalProperties:
      type: string
    type: object
  github_com_minuk-dev_opampcommander_api_v1.AgentConfig:
    properties:
      connectionSettings:
        $ref: '#/definitions/ConnectionSettings'
      contentType:
        type: string
      value:
        type: string
    type: object
  github_com_minuk-dev_opampcommander_api_v1.AgentSelector:
    properties:
      identifyingAttributes:
        additionalProperties:
          type: string
        type: object
      nonIdentifyingAttributes:
        additionalProperties:
          type: string
        type: object
    type: object
  github_com_minuk-dev_opampcommander_api_v1.Attributes:
    additionalProperties:
      type: string
    type: object
info:
  contact: {}
  description: This is the API server for OpAMP Commander, providing endpoints for
    managing OpAMP agents.
  termsOfService: http://swagger.io/terms/
  title: OpAMP Commander API Server
  version: "1.0"
paths:
  /api/v1/agentgroups:
    get:
      description: Retrieves a list of agent groups with pagination options.
      parameters:
      - description: Maximum number of agent groups to return
        in: query
        name: limit
        type: integer
      - description: Token to continue listing agent groups
        in: query
        name: continue
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListResponse-AgentGroup'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List Agent Groups
      tags:
      - agentgroup
    post:
      consumes:
      - application/json
      description: Create a new agent group.
      parameters:
      - description: Agent Group to create
        in: body
        name: agentGroup
        required: true
        schema:
          $ref: '#/definitions/AgentGroup'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/AgentGroup'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorModel'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ErrorModel'
      summary: Create Agent Group
      tags:
      - agentgroup
  /api/v1/agentgroups/{name}:
    delete:
      description: Mark an agent group as deleted.
      parameters:
      - description: Agent Group ID
        in: path
        name: name
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorModel'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ErrorModel'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ErrorModel'
      summary: Delete Agent Group
      tags:
      - agentgroup
    get:
      consumes:
      - application/json
      description: Retrieve an agent group by its ID.
      parameters:
      - description: Agent Group Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/AgentGroup'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get Agent Group
      tags:
      - agentgroup
    put:
      consumes:
      - application/json
      description: Update an existing agent group.
      parameters:
      - description: Agent Group Name
        in: path
        name: name
        required: true
        type: string
      - description: Updated Agent Group
        in: body
        name: agentGroup
        required: true
        schema:
          $ref: '#/definitions/AgentGroup'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/AgentGroup'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorModel'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ErrorModel'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ErrorModel'
      summary: Update Agent Group
      tags:
      - agentgroup
  /api/v1/agentpackages:
    get:
      description: Retrieve a list of agent packages.
      parameters:
      - description: Maximum number of agent packages to return
        in: query
        name: limit
        type: integer
      - description: Token to continue listing agent packages
        in: query
        name: continue
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListResponse-AgentPackage'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List Agent Packages
      tags:
      - agentpackage
    post:
      consumes:
      - application/json
      description: Create a new agent package.
      parameters:
      - description: Agent Package to create
        in: body
        name: agentPackage
        required: true
        schema:
          $ref: '#/definitions/AgentPackage'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/AgentPackage'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create Agent Package
      tags:
      - agentpackage
  /api/v1/agentpackages/{name}:
    delete:
      description: Delete an agent package by its name.
      parameters:
      - description: Name of the agent package
        in: path
        name: name
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Delete Agent Package
      tags:
      - agentpackage
    get:
      description: Retrieve an agent package by its name.
      parameters:
      - description: Name of the agent package
        in: path
        name: name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/AgentPackage'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get Agent Package
      tags:
      - agentpackage
    put:
      consumes:
      - application/json
      description: Update an existing agent package.
      parameters:
      - description: Name of the agent package
        in: path
        name: name
        required: true
        type: string
      - description: Updated Agent Package
        in: body
        name: agentPackage
        required: true
        schema:
          $ref: '#/definitions/AgentPackage'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/AgentPackage'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Update Agent Package
      tags:
      - agentpackage
  /api/v1/agents:
    get:
      consumes:
      - application/json
      description: Retrieve a list of agents.
      parameters:
      - description: Maximum number of agents to return
        in: query
        name: limit
        type: integer
      - description: Token to continue listing agents
        in: query
        name: continue
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListResponse-Agent'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorModel'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ErrorModel'
      summary: List Agents
      tags:
      - agent
  /api/v1/agents/{id}:
    get:
      consumes:
      - application/json
      description: Retrieve an agent by its instance UID.
      parameters:
      - description: Instance UID of the agent
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/Agent'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorModel'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ErrorModel'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ErrorModel'
      summary: Get Agent
      tags:
      - agent
    put:
      consumes:
      - application/json
      description: Update an agent's metadata & spec.
      parameters:
      - description: Instance UID of the agent
        in: path
        name: id
        required: true
        type: string
      - description: Agent update request
        in: body
        name: agent
        required: true
        schema:
          $ref: '#/definitions/Agent'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/Agent'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorModel'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ErrorModel'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ErrorModel'
      summary: Update Agent
      tags:
      - agent
  /api/v1/agents/search:
    get:
      consumes:
      - application/json
      description: Search agents by instance UID query.
      parameters:
      - description: Search query for instance UID
        in: query
        name: q
        required: true
        type: string
      - description: Maximum number of agents to return
        in: query
        name: limit
        type: integer
      - description: Token to continue listing agents
        in: query
        name: continue
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListResponse-Agent'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorModel'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ErrorModel'
      summary: Search Agents
      tags:
      - agent
  /api/v1/auth/basic:
    get:
      consumes:
      - application/json
      description: Authenticate using basic auth credentials.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/AuthnTokenResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
      summary: Basic Authentication
      tags:
      - auth
      - basic
  /api/v1/auth/github:
    get:
      consumes:
      - application/json
      description: Returns the GitHub OAuth2 authentication URL.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/OAuth2AuthCodeURLResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: GitHub OAuth2 Authentication
      tags:
      - auth
      - github
  /api/v1/auth/github/device:
    get:
      consumes:
      - application/json
      description: Initiates device authorization for GitHub OAuth2.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/DeviceAuthnTokenResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: GitHub Device Authentication
      tags:
      - auth
      - github
  /api/v1/auth/github/device/exchange:
    get:
      consumes:
      - application/json
      description: Exchanges a device code for an authentication token.
      parameters:
      - description: Device code to exchange
        in: query
        name: device_code
        required: true
        type: string
      - description: Optional expiry time in RFC3339 format
        in: query
        name: expiry
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/AuthnTokenResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: GitHub Device Code Exchange
      tags:
      - auth
      - github
  /api/v1/auth/info:
    get:
      description: Get Authentication Info.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/InfoResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties: true
            type: object
      summary: Info
      tags:
      - auth
      - basic
  /api/v1/connections:
    get:
      consumes:
      - application/json
      description: Retrieve a list of all connections.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListResponse-Connection'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List Connections
      tags:
      - connection
  /api/v1/ping:
    get:
      consumes:
      - application/json
      description: Ping the server to check if it is alive.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/PingResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Ping
      tags:
      - ping
  /api/v1/servers:
    get:
      consumes:
      - application/json
      description: Retrieve a list of all alive servers.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListResponse-Server'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List Servers
      tags:
      - server
  /api/v1/version:
    get:
      consumes:
      - application/json
      description: Retrieve the server version information.
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/VersionInfo'
      summary: Get Server Version
      tags:
      - version
  /auth/github:
    get:
      consumes:
      - application/json
      description: Redirects to GitHub for OAuth2 authentication.
      produces:
      - application/json
      responses:
        "302":
          description: Found
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: GitHub OAuth2 Authentication
      tags:
      - auth
      - github
  /auth/github/callback:
    get:
      consumes:
      - application/json
      description: Exchanges the code received from GitHub for an authentication token.
      parameters:
      - description: State parameter to prevent CSRF attacks
        in: query
        name: state
        required: true
        type: string
      - description: Code received from GitHub after authentication
        in: query
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/AuthnTokenResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: GitHub OAuth2 Callback
      tags:
      - auth
      - github
  /healthz:
    get:
      consumes:
      - application/json
      description: Check if the service is healthy
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "503":
          description: Service Unavailable
          schema:
            type: string
      summary: Liveness Check
      tags:
      - Health
  /readyz:
    get:
      consumes:
      - application/json
      description: Check if the service is ready
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "503":
          description: Service Unavailable
          schema:
            type: string
      summary: Readiness Check
      tags:
      - Health
swagger: "2.0"
